<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <script src="../../p5/p5.min.js"></script>
    <script src="../../p5/addons/p5.sound.min.js"></script>

    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"
        integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"
        integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx"
        crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js"
        integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@400;700&family=Noto+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Noto+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">

    <!-- Highlight JS -->
    <!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/default.min.css"> -->
    <link rel="stylesheet"
        href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/stackoverflow-dark.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>

    <!-- Main Style-->
    <link rel="stylesheet" type="text/css" href="../../css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="../../css/main-style.css" />

    <title>Exercise 2.3</title>
</head>

<body>
    <ul class="breadcrumb">
        <li><a href="../../index.html">Index</a></li>
        <li><a href="../index.html">Chapter 2</a></li>
        <li>Exercise 2.2</li>
    </ul>

    <h1>Exercise 2.3</h1>
    <p>
        Instead of objects bouncing off the edges of the wall, create an example in which an invisible force pushes
        back on the objects to keep them in the window. Can you weight the force according to how far the object is
        from an edge-i.e., the close it is, the stronger the force?
    </p>

    <div id="canvas"></div>

    <h1>Solution</h1>
    <p>
        <em>I do not know if this solution is correct</em>.
    </p>
    <p>
        To me, the hardest part of this exercise was determining how to scale the force with how close the object is to
        the wall.  The other difficult part was determining which direction the object was moving.  I tried to do this
        on my own for a few days not making a lot of progress and eventually came acros 
        <a href="https://observablehq.com/@ajur/the-nature-of-code-2-forces" target="_blank">this page</a> by Adam
        Jurczyk.  In Adam's solution there is a use of the formulas
    </p>

    <pre>xNorm = location.x / width;
yNorm = location.y / height;</pre>

    <p>
        Adam than subtracts these values from 0.5 for the force vector to apply
    </p>

    <pre>createVector(0.5 - xNorm, 0.5 - yNorm);</pre>

    <p>
        I didn't understand this at first until I realized what is going on.  In short, the formulas convert the object
        location from the canvas location to a value between 0 and 1 (almost like a percentage). For example, if the
        <code>width</code> is 800 and <code>location.x</code> is 643, <code>xNorm</code> is calculated as 643 / 800 
        which is 0.80375; about 80% of the way across the canvas.  If the value is greater than 0.5, the object is
        closer to the right edge than the left and needs a negative force in the x direction.  That's why the value is
        subtracted from 0.5. Using the same example again 0.5 - 0.80375 = -0.30375; a negative value.  When the force
        is created with this value it will push the object to the left. In short, the formulas normalize the location 
        and the subtraction from 0.5 automatically creates a force in the right direction. It also scales with how 
        close the object is to the edges. The values closer to the edges will have a higher value after the subtraction
        versus the values closer to the middle.
    </p>

    <p>
        But this is a linear scale and I want an exponential scale.  
    </p>

    <script src="./mover.js"></script>
    <script src="./sketch.js"></script>
    <script>hljs.highlightAll();</script>
</body>

</html>